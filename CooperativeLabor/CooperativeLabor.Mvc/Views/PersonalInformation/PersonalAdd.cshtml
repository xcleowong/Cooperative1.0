<!DOCTYPE html>
<html>
  
<head>
    <meta charset="UTF-8">
    <title>欢迎页面</title>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <!--<meta name="viewport" content="width=device-width,user-scalable=yes, minimum-scale=0.4, initial-scale=0.8,target-densitydpi=low-dpi" />-->
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
    <link href="~/Content/Layui_X_Admin/css/font.css" rel="stylesheet" />
    <link href="~/Content/Layui_X_Admin/css/xadmin.css" rel="stylesheet" />
    <script type="text/javascript" src="https://cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>
    <script src="~/Content/Layui_X_Admin/lib/layui/layui.js"></script>
    <script src="~/Content/Layui_X_Admin/js/xadmin.js"></script>

    <!--VUE-->
    <script src="~/Content/VueScripts/vue.js"></script>
    <script src="~/Content/VueScripts/axios.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue@2.5.16/dist/vue.js"></script>


    <!-- 让IE8/9支持媒体查询，从而兼容栅格 -->
    <!--[if lt IE 9]>
      <script src="https://cdn.staticfile.org/html5shiv/r29/html5.min.js"></script>
      <script src="https://cdn.staticfile.org/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>
  
  <body>
    <div class="x-body layui-anim layui-anim-up" id="add">
        <form class="layui-form ">
            <div class="layui-form-item">
                <label class="layui-form-label">
                    <span class="x-red">*</span>姓名
                </label>
                <div class="layui-input-inline">
                    <input type="text" autocomplete="off" class="layui-input" lay-verify="required" v-model="Name" />
                </div>
                <div class="layui-form-mid layui-word-aux">
                    <span class="x-red">*</span>将会成为您唯一的登入名
                </div>
            </div>
            <div class="layui-form-item">
                <label class="layui-form-label">
                    <span class="x-red">*</span>用户名
                </label>
                <div class="layui-input-inline">
                    <input type="text" autocomplete="off" class="layui-input" lay-verify="required" v-model="UserName" />
                </div>
            </div>
            <div class="layui-form-item">
                <label class="layui-form-label">
                    <span class="x-red">*</span>性别
                </label>
                <div class="layui-input-inline">
                    <input type="radio" name="sex" value="男" title="男" v-model="Gender">
                    <input type="radio" name="sex" value="女" title="女" v-model="Gender">
                </div>
            </div>
            
            <div class="layui-form-item">
                <label class="layui-form-label">
                    <span class="x-red">*</span>出生日期
                </label>
                <div class="layui-input-inline">
                    <input class="layui-input" autocomplete="off" placeholder="出生日期" id="Birthday" v-model="Birthday">
                </div>
            </div>

            <div class="layui-form-item">
                <label class="layui-form-label">
                    民族
                </label>
                <div class="layui-input-inline">
                    <input type="text" autocomplete="off" class="layui-input" v-model="Nation">
                </div>
            </div>
            <div class="layui-form-item">
                <label class="layui-form-label">
                    <span class="x-red">*</span>用工单位
                </label>
                <div class="layui-input-inline">
                    <input type="text" autocomplete="off" class="layui-input" v-model="Employingnit">
                </div>
            </div>
            <div class="layui-form-item">
                <label class="layui-form-label">
                    <span class="x-red">*</span>合作方名称
                </label>
                <div class="layui-input-inline">
                    <select v-model="PartnerName">
                        <option value="请选择">请选择</option>
                        <option v-for="item in EntryByIdName" v-bind:value="item.PartnerName">{{item.PartnerName}}</option>
                    </select>
                </div>
            </div>
            <div class="layui-form-item">
                <label class="layui-form-label">
                    专业技术资格
                </label>
                <div class="layui-input-inline">
                    <input type="text" autocomplete="off" class="layui-input" lay-verify="required" v-model="ProfessionalSkill">
                </div>
            </div>
            <div class="layui-form-item">
                <label class="layui-form-label">
                    婚否
                </label>
                <div class="layui-input-inline">
                    <input type="radio" name="MaritalStatus" value="0" title="已婚" v-model="MaritalStatus">
                    <input type="radio" name="MaritalStatus" value="1" title="未婚" v-model="MaritalStatus" checked>
                </div>
            </div>
            <div class="layui-form-item">
                <label class="layui-form-label">
                    <span class="x-red">*</span>身份证号
                </label>
                <div class="layui-input-inline">
                    <input type="text" autocomplete="off" class="layui-input" v-model="IDNumber">
                </div>
            </div>
            <div class="layui-form-item">
                <label class="layui-form-label">
                    <span class="x-red">*</span>党派
                </label>
                <div class="layui-input-inline">
                    <select name="city" lay-verify="required" v-model="PartyGroupings">
                        <option value="请选择">--请选择--</option>
                        <option value="中共党员">中共党员</option>
                        <option value="预备中共党员">预备中共党员</option>
                        <option value="共青团员">共青团员</option>
                        <option value="预备共青团员">预备共青团员</option>
                        <option value="群众">群众</option>
                        <option value="其他">其他</option>
                    </select>
                </div>
            </div>
            <div class="layui-form-item">
                <label class="layui-form-label">
                    <span class="x-red">*</span>邮箱
                </label>
                <div class="layui-input-inline">
                    <input type="text" autocomplete="off" class="layui-input" v-model="Email">
                </div>
            </div>
            <div class="layui-form-item">
                <label class="layui-form-label">
                    <span class="x-red">*</span>岗位
                </label>
                <div class="layui-input-inline">
                    <input type="text" autocomplete="off" class="layui-input" v-model="Post">
                </div>
            </div>
            <div class="layui-form-item">
                <label class="layui-form-label">
                    <span class="x-red">*</span>联系电话
                </label>
                <div class="layui-input-inline">
                    <input type="text" autocomplete="off" class="layui-input" v-model="Phone">
                </div>
            </div>
            <div class="layui-form-item">
                <label class="layui-form-label">
                    <span class="x-red">*</span>银行卡号
                </label>
                <div class="layui-input-inline">
                    <input type="text" autocomplete="off" class="layui-input" v-model="CardNo">
                </div>
            </div>
            <div class="layui-form-item">
                <label class="layui-form-label">
                    <span class="x-red">*</span>开户行信息
                </label>
                <div class="layui-input-inline">
                    <input type="text" autocomplete="off" class="layui-input" v-model="OpeningBank">
                </div>
            </div>
            <div class="layui-form-item">
                <label class="layui-form-label">
                    <span class="x-red">*</span>创建时间
                </label>
                <div class="layui-input-inline">
                    <input class="layui-input" placeholder="创建时间" name="CreationTime" id="CreationTime" v-model="CreationTime">
                </div>
            </div>
            <div class="layui-form-item">
                <label class="layui-form-label">
                    <span class="x-red">*</span>修改时间
                </label>
                <div class="layui-input-inline">
                    <input class="layui-input" placeholder="修改时间" name="ModificationTime" id="ModificationTime" v-model="ModificationTime">
                </div>
            </div>
            <div class="layui-form-item">
                <label class="layui-form-label">
                    是否删除
                </label>
                <div class="layui-input-inline">
                    <input type="radio" name="del" value="是" title="是" v-model="IsDelete">
                    <input type="radio" name="del" value="否" title="否" checked v-model="IsDelete">
                </div>
            </div>
            <div class="layui-form-item">
                <label class="layui-form-label">
                </label>
                <button class="layui-btn" v-on:click="AddQCPlan1(Name,UserName,Gender,Birthday,Nation,Employingnit,PartnerName,ProfessionalSkill,MaritalStatus,IDNumber,PartyGroupings,Email,Post,Phone,CardNo,OpeningBank,CreationTime,ModificationTime,IsDelete)">
                    增加
                </button>
            </div>
        </form>
    </div>
    <script>
        layui.use('laydate', function () {
            var laydate = layui.laydate;

            //执行一个laydate实例
            laydate.render({
                elem: '#Birthday' //指定元素
            });
            laydate.render({
                elem: '#ModificationTime' //指定元素
            });
            laydate.render({
                elem: '#CreationTime' //指定元素
            });
        });
        //layui.use(['form','layer'], function(){
        //    $ = layui.jquery;
        //  var form = layui.form
        //        , layer = layui.layer;


          ////监听提交
          //form.on('submit(add)', function(data){
          //  console.log(data);
          //  //发异步，把数据提交给php
          //  layer.alert("增加成功", {icon: 6},function () {
          //      // 获得frame索引
          //      var index = parent.layer.getFrameIndex(window.name);
          //      //关闭当前frame
          //      parent.layer.close(index);
          //  });
          //  return false;
          //});
          
          
        //});
    </script>
    <script>var _hmt = _hmt || []; (function() {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?b393d153aeb26b46e9431fabaf0f6190";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
      })();</script>
  </body>

</html>
<script type="text/javascript">
    var vm = new Vue({
        el: "#add",
        data: {
            Name:"",
            UserName: "",
            Gender: "",
            Birthday: "",
            Nation: "",
            Employingnit: "",
            PartnerName: "",
            ProfessionalSkill: "",
            MaritalStatus: "",
            IDNumber: "",
            PartyGroupings: "",
            Email: "",
            Post: "",
            Phone: "",
            CardNo: "",
            OpeningBank: "",
            CreationTime: "",
            ModificationTime: "",
            IsDelete:"",
            EntryByIdName: [],
 
            
        },

        mounted() {
            this.getEntryByIdName();
        },
        methods:
        {
            //获取合作方名称
            getEntryByIdName: function () {
                axios.get('http://localhost:8099/Partner/GetEntryByIdName').then(
                    (response) => {
                        this.EntryByIdName = [];
                        for (var i = 0; i < response.data.length; i++) {
                            this.EntryByIdName.push(response.data[i]);
                        }
                    },
                    (response) => {
                        alert(response.status);
                    }
                ).catch(function (response) {
                    alert(response);
                });
            },
            //保存
            AddQCPlan1: function (Name, UserName, Gender, Birthday, Nation, Employingnit, PartnerName, ProfessionalSkill, MaritalStatus, IDNumber, PartyGroupings, Email, Post, Phone, CardNo, OpeningBank, CreationTime, ModificationTime, IsDelete) {
                var params = new URLSearchParams();
                params.append('Name', Name);
                params.append('UserName', UserName);
                params.append('Gender', Gender);
                params.append('Birthday', Birthday);
                params.append('Nation', Nation);
                params.append('Employingnit', Employingnit);
                params.append('PartnerName', PartnerName);
                params.append('ProfessionalSkill', ProfessionalSkill);
                params.append('MaritalStatus', MaritalStatus);
                params.append('IDNumber', IDNumber);
                params.append('PartyGroupings', PartyGroupings);
                params.append('Email', Email);
                params.append('Post', Post);
                params.append('Phone', Phone);
                params.append('CardNo', CardNo);
                params.append('OpeningBank', OpeningBank);
                params.append('CreationTime', CreationTime);
                params.append('ModificationTime', ModificationTime);
                params.append('IsDelete', IsDelete);
                axios.post('http://localhost:8099/PersonalInformation/AddPersonalInformation', params).then(
                    (response) => {
                        alert("添加成功")
                    },
                    (response) => {
                        alert(response.status);
                    }
                ).catch(function (response) {
                    alert(response);
                });
            },

        },
        computed: {
        }

    });

</script>
